Swiper.prototype.plugins.scrollbar=function(e,t){function r(e){return document.querySelectorAll?document.querySelectorAll(e):jQuery(e)}function n(r){b=!0,r.preventDefault?r.preventDefault():r.returnValue=!1,i(r),clearTimeout(x),e.setTransition(w,0),w.style.opacity=1,e.setWrapperTransition(100),e.setTransition(S,100),t.onScrollbarDrag&&t.onScrollbarDrag(e)}function a(r){b&&(r.preventDefault?r.preventDefault():r.returnValue=!1,i(r),e.setWrapperTransition(0),e.setTransition(w,0),e.setTransition(S,0),t.onScrollbarDrag&&t.onScrollbarDrag(e))}function o(r){b=!1,t.hide&&(clearTimeout(x),x=setTimeout(function(){w.style.opacity=0,e.setTransition(w,400)},1e3)),t.snapOnRelease&&e.swipeReset()}function i(t){var r=y=0;if(m){var n="touchstart"==t.type||"touchmove"==t.type?t.targetTouches[0].pageX:t.pageX||t.clientX;r=n-e.h.getOffset(w).left-v/2,r<0?r=0:r+v>u&&(r=u-v)}else{var a="touchstart"==t.type||"touchmove"==t.type?t.targetTouches[0].pageY:t.pageY||t.clientY;y=a-e.h.getOffset(w).top-g/2,y<0?y=0:y+g>h&&(y=h-g)}e.setTranslate(S,{x:r,y:y});var o=-r/f,i=-y/f;e.setWrapperTranslate(o,i,0),e.updateActiveSlide(m?o:i)}function s(){S.style.width="",S.style.height="",m?(u=e.h.getWidth(w,!0),d=e.width/(e.h.getWidth(e.wrapper)+e.wrapperLeft+e.wrapperRight),f=d*(u/e.width),v=u*d,S.style.width=v+"px"):(h=e.h.getHeight(w,!0),d=e.height/(e.h.getHeight(e.wrapper)+e.wrapperTop+e.wrapperBottom),f=d*(h/e.height),g=h*d,g>h&&(g=h),S.style.height=g+"px"),d>=1?T.style.display="none":T.style.display=""}var c=t&&t.container;if(c){var l={hide:!0,draggable:!0,snapOnRelease:!1};t=t||{};for(var p in l)p in t||(t[p]=l[p]);if((document.querySelectorAll||window.jQuery)&&(t.container.nodeType||0!=r(t.container).length)){var u,h,d,f,v,g,T=t.container.nodeType?t.container:r(t.container)[0],m="horizontal"==e.params.mode,w=T,S=document.createElement("div");S.className="swiper-scrollbar-drag",t.draggable&&(S.className+=" swiper-scrollbar-cursor-drag"),w.appendChild(S),t.hide&&(w.style.opacity=0);var E=e.touchEvents;if(t.draggable){var b=!1,D=e.support.touch?w:document;e.h.addEventListener(w,E.touchStart,n,!1),e.h.addEventListener(D,E.touchMove,a,!1),e.h.addEventListener(D,E.touchEnd,o,!1)}var x,L={onFirstInit:function(e){s()},onInit:function(e){s()},onTouchMoveEnd:function(r){t.hide&&(clearTimeout(x),w.style.opacity=1,e.setTransition(w,200))},onTouchEnd:function(r){t.hide&&(clearTimeout(x),x=setTimeout(function(){w.style.opacity=0,e.setTransition(w,400)},1e3))},onSetWrapperTransform:function(r){if(m){var n=r.x*f,a=v;if(n>0){var o=n;n=0,a=v-o}else-n+v>u&&(a=u+n);e.setTranslate(S,{x:-n}),S.style.width=a+"px"}else{var i=r.y*f,s=g;if(i>0){var o=i;i=0,s=g-o}else-i+g>h&&(s=h+i);e.setTranslate(S,{y:-i}),S.style.height=s+"px"}e.params.freeMode&&t.hide&&(clearTimeout(x),w.style.opacity=1,x=setTimeout(function(){w.style.opacity=0,e.setTransition(w,400)},1e3))},onSetWrapperTransition:function(t){e.setTransition(S,t.duration)},onDestroy:function(){var t=e.support.touch?w:document;e.h.removeEventListener(w,E.touchStart,n,!1),e.h.removeEventListener(t,E.touchMove,a,!1),e.h.removeEventListener(t,E.touchEnd,o,!1)}};return L}}};